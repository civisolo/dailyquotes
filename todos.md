# 开发任务清单（todos.md）

## 已完成
- 金句API支持批量加载、分页、随机、按类别
- 首页金句滑动切换，自动分页加载
- 白噪音上传、管理、播放、API统一
- 收藏/历史本地存储与UI
- 管理后台支持金句/白噪音增删改查
- 日志目录、.gitignore完善
- 文档自动补全
- 白噪音循环播放功能
- 修复底部TabBar溢出导致的UI报错
- 金句/白噪音本地缓存功能（离线可用）
- 每日定时本地通知推送
- 管理后台与API完善
- [x] 支持所有平台的定时本地推送（含 macOS，需初始化时区）
- [x] 实现通知系统
  - [x] 支持定时推送
  - [x] 支持多语言通知
  - [x] 支持通知设置
  - [x] 支持 badge 计数管理
  - [x] 支持通知点击处理
- [x] 分类持久化功能
  - [x] 使用 Hive 存储用户选择的分类
  - [x] 应用启动时自动加载上次选择的分类
  - [x] 本地推送时从用户选择的分类中随机选择内容
- [x] 金句卡片支持字体大小自定义，联动 fontSizeProvider。

## 进行中
- 交互细节优化（TTS播放状态、UI动画）
- 代码结构与注释优化
- 音频播放体验优化（状态同步、预加载、缓存）
- 系统稳定性提升（错误处理、日志、自动重试、代理优化）

## 待办
- API鉴权与用户体系
- 云端收藏/历史同步
- 金句/白噪音推荐算法
- 多语言支持
- 自动化测试与CI/CD
- 主题/皮肤切换
- 性能与安全加固
- 内容审核与推荐系统
- UI/UX 改进、动画、手势

## 待开始
- [ ] 设备标识系统
  - [x] 实现UUID生成和管理
  - [ ] 设备偏好设置
  - [x] 收藏功能
  - [x] 历史记录

- [ ] 内容管理
  - [x] 金句分类优化
  - [x] 白噪音分类优化
  - [ ] 内容审核机制
  - [ ] 内容推荐系统

- [ ] 性能优化
  - [ ] 前端性能优化
  - [ ] 后端性能优化
  - [x] 数据库优化
  - [ ] 缓存策略

- [ ] 用户体验
  - [ ] UI/UX 改进
  - [ ] 动画效果
  - [ ] 手势操作
  - [x] 主题定制

## 已完成
- [x] 基础架构搭建
  - [x] 前后端分离架构
  - [x] MongoDB 数据库集成
  - [x] 代理配置优化
  - [x] 日志系统集成
  - [x] 静态文件服务

- [x] 管理后台
  - [x] 金句管理功能
  - [x] 白噪音管理功能
  - [x] 基础UI界面
  - [x] 文件上传功能

- [x] 移动端应用
  - [x] 金句播放功能
  - [x] 白噪音播放功能
  - [x] 基础UI界面
  - [x] 本地存储集成
  - [x] 主题切换功能
  - [x] 引导页功能

## 优先级
1. 音频播放体验优化
2. 系统稳定性提升
3. 内容审核机制
4. 内容推荐系统
5. 性能优化
6. 用户体验改进

# TODOS

- [x] 主题切换与自定义配色
- [x] 金句收藏（最新在顶部）
- [x] 多语言支持（中/英/日）
- [x] 白噪音播放
- [x] 历史功能已移除
- [ ] 其他功能持续完善

- [x] 全面国际化所有页面和弹窗
- [x] 语言包 key 补全与优化
- [x] 设置页支持"跟随系统"语言
- [x] 修复 pubspec.yaml 字体声明
- [x] 修复提醒时间格式化
- [x] 优化日语翻译简洁性
- [x] 历史页面时间显示国际化
- [x] 音量调节滑块实时生效
- [ ] 白噪音/金句数据动态加载优化
- [ ] 适配更多屏幕尺寸
- [ ] 增加更多主题色方案
- [ ] 日志系统完善
- [ ] 单元测试与集成测试
- [ ] 代码重构与注释补全
- [ ] 其它 bug 跟踪与修复 